# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ApprovalAction {
  """操作类型"""
  actionType: ApprovalActionType!

  """审批人（通常是管理员或编辑）"""
  approver: User!

  """审批人 ID"""
  approverId: String!

  """审批意见/评论"""
  comment: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """关联的审批请求 ID"""
  requestId: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

"""审批操作类型"""
enum ApprovalActionType {
  APPROVE
  COMMENT
  REJECT
}

type ApprovalRequest {
  actions: [ApprovalAction!]!

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """关联的文章"""
  post: Post!

  """关联的文章 ID"""
  postId: String!

  """请求说明"""
  requestMessage: String

  """请求人（通常是文章作者）"""
  requester: User!

  """请求人 ID"""
  requesterId: String!

  """审批状态"""
  status: ApprovalStatus!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

type ApprovalStats {
  """通过率（0-100）"""
  approvalRate: Int!

  """已批准数量"""
  approved: Int!

  """待审批数量"""
  pending: Int!

  """已拒绝数量"""
  rejected: Int!

  """总审批请求"""
  total: Int!
}

"""审批状态"""
enum ApprovalStatus {
  APPROVED
  CANCELLED
  PENDING
  REJECTED
}

type Auth {
  """JWT access token"""
  accessToken: JWT!

  """JWT refresh token"""
  refreshToken: JWT!
  user: User!
}

type Category {
  """子分类列表"""
  children: [Category]

  """分类颜色（十六进制）"""
  color: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """分类描述"""
  description: String

  """分类图标"""
  icon: String
  id: ID!

  """分类名称"""
  name: String!

  """排序权重（数字越小越靠前）"""
  order: Int!

  """父分类对象"""
  parent: Category

  """父分类 ID（顶级分类为 null）"""
  parentId: String

  """该分类下的文章数量"""
  postCount: Int!

  """分类下的文章列表"""
  posts: [Post]

  """URL 友好的唯一标识符"""
  slug: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

input ChangePasswordInput {
  newPassword: String!
  oldPassword: String!
}

type Comment {
  """评论作者"""
  author: User!

  """评论内容"""
  content: String!

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """点赞数"""
  likes: Int!

  """父评论（嵌套回复时）"""
  parent: Comment

  """所属文章"""
  post: Post!

  """子评论列表"""
  replies: [Comment!]!

  """评论状态"""
  status: CommentStatus!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

"""评论状态"""
enum CommentStatus {
  """已批准"""
  APPROVED

  """待审核"""
  PENDING

  """已拒绝"""
  REJECTED

  """垃圾评论"""
  SPAM
}

type ContentStats {
  """已归档数量"""
  archived: Int!

  """草稿数量"""
  drafts: Int!

  """已发布数量"""
  published: Int!

  """定时发布数量"""
  scheduled: Int!

  """回收站数量"""
  trash: Int!
}

input CreateApprovalRequestInput {
  """需要审批的文章 ID"""
  postId: String!

  """请求说明"""
  requestMessage: String
}

input CreateCategoryInput {
  """分类颜色（十六进制）"""
  color: String

  """分类描述"""
  description: String

  """分类图标"""
  icon: String

  """分类名称"""
  name: String!

  """排序权重"""
  order: Int = 0

  """父分类 ID"""
  parentId: String

  """URL 友好的唯一标识符"""
  slug: String!
}

input CreateCommentInput {
  """评论内容"""
  content: String!

  """父评论 ID（回复评论时使用）"""
  parentId: String

  """所属文章 ID"""
  postId: String!
}

input CreatePostInput {
  """分类 ID"""
  categoryId: String

  """文章正文内容"""
  content: String!

  """文章摘要（建议 150-200 字符）"""
  excerpt: String

  """SEO 元数据"""
  meta: PostMetaInput

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String

  """文章状态（默认为 DRAFT）"""
  status: PostStatus

  """标签 ID 列表"""
  tagIds: [String!]

  """文章标题"""
  title: String!
}

input CreateRevisionInput {
  """变更说明"""
  changeMessage: String

  """文章 ID"""
  postId: String!
}

input CreateTagInput {
  """标签颜色（十六进制）"""
  color: String

  """标签描述"""
  description: String

  """标签名称"""
  name: String!

  """URL 友好的唯一标识符"""
  slug: String!
}

type DashboardStats {
  """审批统计"""
  approvals: ApprovalStats!

  """内容统计"""
  content: ContentStats!

  """总体统计"""
  overall: OverallStats!

  """热门文章（Top 10）"""
  popularPosts: [PopularPostItem!]!

  """最近活跃用户（Top 10）"""
  recentActiveUsers: [RecentActiveUser!]!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

"""
A field whose value is a JSON Web Token (JWT): https://jwt.io/introduction.
"""
scalar JWT

input LoginInput {
  email: String!
  password: String!
}

type Media {
  """图片 alt 文本（SEO）"""
  altText: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """媒体描述"""
  description: String

  """原始文件名"""
  filename: String!

  """图片高度"""
  height: Int
  id: ID!

  """额外的元数据（如：EXIF、视频时长等）"""
  metadata: JSON

  """MIME 类型（如：image/jpeg）"""
  mimeType: String!

  """文件存储路径"""
  path: String!

  """文件大小（字节）"""
  size: Int!

  """缩略图 URL"""
  thumbnailUrl: String

  """媒体标题"""
  title: String

  """媒体类型"""
  type: MediaType!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """上传者"""
  uploader: User!

  """访问 URL"""
  url: String!

  """图片宽度"""
  width: Int
}

type MediaStats {
  """总文件数"""
  totalCount: Int!

  """总文件大小（字节）"""
  totalSize: Int!

  """按类型统计"""
  typeBreakdown: [TypeBreakdown!]!
}

"""媒体文件类型"""
enum MediaType {
  """音频文件"""
  AUDIO

  """文档文件"""
  DOCUMENT

  """图片文件"""
  IMAGE

  """其他文件"""
  OTHER

  """视频文件"""
  VIDEO
}

type Mutation {
  """添加审批评论（管理员）"""
  addApprovalComment(data: ProcessApprovalInput!): ApprovalAction!

  """为文章添加标签"""
  addTagsToPost(postId: String!, tagIds: [String!]!): [Tag!]!

  """批准审批请求（管理员）"""
  approveRequest(data: ProcessApprovalInput!): ApprovalRequest!

  """为用户分配角色（需要管理员权限）"""
  assignRole(expiresAt: DateTime, roleId: String!, userId: String!): Boolean!

  """取消审批请求"""
  cancelApprovalRequest(
    """审批请求 ID"""
    requestId: String!
  ): ApprovalRequest!
  changePassword(data: ChangePasswordInput!): User!

  """清空用户搜索历史"""
  clearMySearchHistory: Boolean!

  """创建审批请求"""
  createApprovalRequest(data: CreateApprovalRequestInput!): ApprovalRequest!

  """创建新分类（需要管理员权限）"""
  createCategory(data: CreateCategoryInput!): Category!

  """创建评论"""
  createComment(data: CreateCommentInput!): Comment!
  createPost(data: CreatePostInput!): Post!

  """创建版本快照"""
  createRevision(data: CreateRevisionInput!): PostRevision!

  """创建新标签（需要管理员权限）"""
  createTag(data: CreateTagInput!): Tag!

  """删除分类（需要管理员权限）"""
  deleteCategory(
    """分类 ID"""
    id: String!
  ): Category!

  """删除评论"""
  deleteComment(
    """评论 ID"""
    commentId: String!
  ): Comment!

  """删除媒体文件"""
  deleteMedia(
    """媒体 ID"""
    mediaId: String!
  ): Media!
  deletePost: Post!

  """删除指定版本（仅管理员）"""
  deleteRevision(
    """版本 ID"""
    revisionId: String!
  ): PostRevision!

  """删除标签（需要管理员权限）"""
  deleteTag(
    """标签 ID"""
    id: String!
  ): Tag!

  """点赞评论"""
  likeComment(
    """评论 ID"""
    commentId: String!
  ): Comment!
  login(data: LoginInput!): Auth!

  """记录文章浏览"""
  recordView(data: RecordViewInput!): PostView!
  refreshToken(token: JWT!): Token!

  """拒绝审批请求（管理员）"""
  rejectRequest(data: ProcessApprovalInput!): ApprovalRequest!

  """移除用户的角色（需要管理员权限）"""
  removeRole(roleId: String!, userId: String!): Boolean!

  """移除文章的标签"""
  removeTagsFromPost(postId: String!, tagIds: [String!]!): [Tag!]!

  """恢复到指定版本"""
  restoreRevision(
    """文章 ID"""
    postId: String!

    """要恢复的版本号"""
    version: Int!
  ): Post!

  """手動觸發任務（需要管理員權限）"""
  runTask(data: RunTaskInput!): String!

  """设置文章的标签（替换所有现有标签）"""
  setPostTags(postId: String!, tagIds: [String!]!): [Tag!]!
  signup(data: SignupInput!): Auth!

  """取消点赞评论"""
  unlikeComment(
    """评论 ID"""
    commentId: String!
  ): Comment!

  """更新分类（需要管理员权限）"""
  updateCategory(
    data: UpdateCategoryInput!

    """分类 ID"""
    id: String!
  ): Category!

  """更新评论内容"""
  updateComment(
    """评论 ID"""
    commentId: String!
    data: UpdateCommentInput!
  ): Comment!

  """更新评论状态（管理员专用）"""
  updateCommentStatus(
    """评论 ID"""
    commentId: String!
    data: UpdateCommentStatusInput!
  ): Comment!

  """更新媒体信息"""
  updateMedia(
    data: UpdateMediaInput!

    """媒体 ID"""
    mediaId: String!
  ): Media!
  updatePost(data: UpdatePostInput!): Post!

  """更新标签（需要管理员权限）"""
  updateTag(
    data: UpdateTagInput!

    """标签 ID"""
    id: String!
  ): Tag!
  updateUser(data: UpdateUserInput!): User!
}

"""
Possible directions in which to order a list of items when provided an `orderBy` argument.
"""
enum OrderDirection {
  asc
  desc
}

type OverallStats {
  """草稿数"""
  draftPosts: Int!

  """待审批文章数"""
  pendingApprovals: Int!

  """已发布文章数"""
  publishedPosts: Int!

  """分类总数"""
  totalCategories: Int!

  """评论总数"""
  totalComments: Int!

  """文章总数"""
  totalPosts: Int!

  """标签总数"""
  totalTags: Int!

  """用户总数"""
  totalUsers: Int!
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
}

type Permission {
  """操作类型（如：create、read、update、delete）"""
  action: String!

  """权限代码（唯一标识符）"""
  code: String!

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """权限描述"""
  description: String
  id: ID!

  """是否为系统权限（不可删除）"""
  isSystem: Boolean!

  """权限名称"""
  name: String!

  """资源类型（如：post、user、category）"""
  resource: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

type PopularPostItem {
  """评论数"""
  commentCount: Int!

  """文章 ID"""
  id: String!

  """发布时间"""
  publishedAt: DateTime

  """文章标题"""
  title: String!

  """浏览次数"""
  viewCount: Int!
}

type PopularSearch {
  """搜索次数"""
  count: Int!

  """最近搜索时间"""
  lastSearchedAt: DateTime!

  """搜索关键词"""
  query: String!
}

type Post {
  """文章作者"""
  author: User

  """所属分类"""
  category: Category

  """文章正文内容"""
  content: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """文章摘要（建议 150-200 字符）"""
  excerpt: String
  id: ID!

  """SEO 元数据"""
  meta: PostMeta

  """是否发布（兼容旧字段）"""
  published: Boolean!

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String!

  """文章状态"""
  status: PostStatus!

  """关联的标签列表"""
  tags: [Tag!]!

  """文章标题"""
  title: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """浏览次数"""
  viewCount: Int!
}

type PostConnection {
  edges: [PostEdge!]
  pageInfo: PageInfo!
  totalCount: Int!
}

type PostEdge {
  cursor: String!
  node: Post!
}

type PostMeta {
  """规范 URL"""
  canonicalUrl: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """SEO 描述（建议 150-160 字符）"""
  metaDescription: String

  """SEO 关键词（逗号分隔）"""
  metaKeywords: String

  """SEO 标题（建议 60-70 字符）"""
  metaTitle: String

  """Open Graph 描述"""
  ogDescription: String

  """Open Graph 图片 URL"""
  ogImage: String

  """Open Graph 标题"""
  ogTitle: String

  """文章 ID"""
  postId: String!

  """Twitter 卡片类型"""
  twitterCard: String

  """Twitter 描述"""
  twitterDescription: String

  """Twitter 图片 URL"""
  twitterImage: String

  """Twitter 标题"""
  twitterTitle: String

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

input PostMetaInput {
  """规范 URL"""
  canonicalUrl: String

  """SEO 描述（建议 150-160 字符）"""
  metaDescription: String

  """SEO 关键词（逗号分隔）"""
  metaKeywords: String

  """SEO 标题（建议 60-70 字符）"""
  metaTitle: String

  """Open Graph 描述"""
  ogDescription: String

  """Open Graph 图片 URL"""
  ogImage: String

  """Open Graph 标题"""
  ogTitle: String

  """Twitter 卡片类型（summary、summary_large_image 等）"""
  twitterCard: String

  """Twitter 描述"""
  twitterDescription: String

  """Twitter 图片 URL"""
  twitterImage: String

  """Twitter 标题"""
  twitterTitle: String
}

input PostOrder {
  direction: OrderDirection!
  field: PostOrderField!
}

"""Properties by which post connections can be ordered."""
enum PostOrderField {
  content
  createdAt
  id
  published
  title
  updatedAt
}

type PostRevision {
  """分类 ID 快照"""
  categoryId: String

  """变更说明"""
  changeMessage: String

  """内容快照"""
  content: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """版本创建者"""
  createdBy: User!

  """摘要快照"""
  excerpt: String
  id: ID!

  """SEO 元数据快照"""
  metaData: JSON

  """所属文章"""
  post: Post!

  """发布状态快照"""
  published: Boolean!

  """发布时间快照"""
  publishedAt: DateTime

  """Slug 快照"""
  slug: String!

  """状态快照"""
  status: PostStatus!

  """标签 ID 数组快照"""
  tagIds: [String!]!

  """标题快照"""
  title: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """版本号"""
  version: Int!
}

"""文章状态"""
enum PostStatus {
  """已归档"""
  ARCHIVED

  """草稿"""
  DRAFT

  """已发布"""
  PUBLISHED

  """定时发布"""
  SCHEDULED

  """回收站"""
  TRASH
}

type PostView {
  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """IP 地址"""
  ipAddress: String

  """关联的文章"""
  post: Post!

  """关联的文章 ID"""
  postId: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """浏览者（未登录为 null）"""
  user: User

  """浏览器信息"""
  userAgent: String

  """浏览者 ID（未登录为 null）"""
  userId: String
}

type PostViewStats {
  """本月浏览次数"""
  monthViews: Int!

  """文章 ID"""
  postId: String!

  """今日浏览次数"""
  todayViews: Int!

  """总浏览次数"""
  totalViews: Int!

  """唯一访客数"""
  uniqueVisitors: Int!

  """本周浏览次数"""
  weekViews: Int!
}

input ProcessApprovalInput {
  """审批意见/评论"""
  comment: String

  """审批请求 ID"""
  requestId: String!
}

type Query {
  allPosts(orderBy: PostOrder, query: String, status: PostStatus): PostConnection!

  """查询单个审批请求"""
  approvalRequest(
    """审批请求 ID"""
    requestId: String!
  ): ApprovalRequest!

  """通过文章 ID 查询审批请求"""
  approvalRequestByPost(
    """文章 ID"""
    postId: String!
  ): ApprovalRequest

  """获取所有分类列表"""
  categories: [Category!]!

  """根据 ID 获取单个分类"""
  category(
    """分类 ID"""
    id: String!
  ): Category!

  """获取分类的祖先路径（面包屑导航）"""
  categoryAncestors(
    """分类 ID"""
    id: String!
  ): [Category!]!

  """根据 slug 获取单个分类"""
  categoryBySlug(slug: String!): Category!

  """获取分类的所有后代分类"""
  categoryDescendants(
    """分类 ID"""
    id: String!
  ): [Category!]!

  """检查用户是否拥有特定权限"""
  checkPermission(permissionCode: String!, userId: String!): Boolean!

  """检查用户是否拥有特定角色"""
  checkRole(roleCode: String!, userId: String!): Boolean!

  """查询单个评论"""
  comment(
    """评论 ID"""
    commentId: String!
  ): Comment!

  """查询所有评论"""
  comments(authorId: String, postId: String, status: CommentStatus): [Comment!]!

  """对比两个版本"""
  compareRevisions(
    """新版本号"""
    newVersion: Int!

    """旧版本号"""
    oldVersion: Int!

    """文章 ID"""
    postId: String!
  ): RevisionDiff!

  """获取仪表板统计数据（需要管理员权限）"""
  dashboardStats: DashboardStats!
  hello(name: String!): String!
  helloWorld: String!
  me: User!

  """根据 ID 查询媒体文件"""
  media(
    """媒体 ID"""
    mediaId: String!
  ): Media!

  """查询所有媒体文件"""
  mediaFiles(onlyMine: Boolean, type: MediaType): [Media!]!

  """查询当前用户的所有审批请求"""
  myApprovalRequests: [ApprovalRequest!]!

  """获取用户的媒体统计"""
  myMediaStats: MediaStats!

  """获取用户搜索历史"""
  mySearchHistory(limit: Int = 20): [SearchResult!]! @deprecated(reason: "返回类型待优化")

  """获取当前用户的浏览历史"""
  myViewHistory(limit: Int = 50): [PostView!]!

  """查询所有待审批的请求（管理员）"""
  pendingApprovalRequests: [ApprovalRequest!]!

  """获取所有权限列表（需要管理员权限）"""
  permissions: [Permission!]!

  """获取热门搜索"""
  popularSearches(days: Int = 7, limit: Int = 10): [PopularSearch!]!
  post: Post!
  postBySlug(slug: String!): Post

  """查询某篇文章的评论（树形结构）"""
  postComments(postId: String!, status: CommentStatus): [Comment!]!

  """查询文章的所有版本历史"""
  postRevisions(postId: String!): [PostRevision!]!

  """获取文章的浏览统计"""
  postViewStats(
    """文章 ID"""
    postId: String!
  ): PostViewStats!

  """获取文章的浏览记录列表（需要管理员权限）"""
  postViews(
    limit: Int = 50

    """文章 ID"""
    postId: String!
  ): [PostView!]!
  publishedPosts(orderBy: PostOrder, query: String): PostConnection!

  """查询单个版本"""
  revision(
    """版本 ID"""
    revisionId: String!
  ): PostRevision!

  """根据 ID 获取单个角色"""
  role(id: String!): SystemRole

  """获取所有角色列表"""
  roles: [SystemRole!]!

  """搜索文章"""
  search(data: SearchInput!): SearchResult!

  """获取搜索建议"""
  searchSuggestions(limit: Int = 10, prefix: String!): [SearchSuggestion!]!

  """根据 ID 获取单个标签"""
  tag(
    """标签 ID"""
    id: String!
  ): Tag!

  """根据 slug 获取单个标签"""
  tagBySlug(slug: String!): Tag!

  """获取所有标签列表"""
  tags: [Tag!]!

  """根據 ID 查詢單個任務日誌（需要管理員權限）"""
  taskLog(
    """任務日誌 ID"""
    id: String!
  ): TaskLog

  """查詢任務日誌列表（需要管理員權限）"""
  taskLogs(filter: TaskLogFilterInput): [TaskLog!]!

  """獲取任務統計信息（需要管理員權限）"""
  taskStatistics: TaskStatistics!

  """获取顶级分类列表"""
  topLevelCategories: [Category!]!
  userPosts: [Post!]!
}

type RecentActiveUser {
  """用户邮箱"""
  email: String!

  """用户 ID"""
  id: String!

  """最后活动时间"""
  lastActiveAt: DateTime!

  """用户名"""
  name: String

  """文章数"""
  postCount: Int!
}

input RecordViewInput {
  """IP 地址（可选）"""
  ipAddress: String

  """文章 ID"""
  postId: String!

  """浏览器信息（可选）"""
  userAgent: String
}

type RevisionDiff {
  """分类是否变更"""
  categoryChanged: Boolean!

  """变更摘要列表"""
  changes: [String!]!

  """内容是否变更"""
  contentChanged: Boolean!

  """新版本"""
  newRevision: PostRevision!

  """旧版本"""
  oldRevision: PostRevision!

  """状态是否变更"""
  statusChanged: Boolean!

  """标签是否变更"""
  tagsChanged: Boolean!

  """标题是否变更"""
  titleChanged: Boolean!
}

"""手動觸發任務的輸入"""
input RunTaskInput {
  """任務參數（JSON 字符串）"""
  parameters: String

  """任務名稱"""
  taskName: String!
}

input SearchInput {
  """限制返回结果数量"""
  limit: Int = 10

  """搜索关键词"""
  query: String!

  """跳过的结果数量"""
  skip: Int = 0

  """搜索来源"""
  source: String
}

type SearchResult {
  """搜索结果列表"""
  posts: [Post!]!

  """搜索关键词"""
  query: String!

  """搜索耗时（毫秒）"""
  took: Int

  """总结果数"""
  totalCount: Int!
}

type SearchSuggestion {
  """搜索次数"""
  count: Int!

  """建议的搜索词"""
  query: String!
}

input SignupInput {
  email: String!
  firstname: String
  lastname: String
  password: String!
}

type Subscription {
  postCreated: Post!
}

type SystemRole {
  """角色代码（唯一标识符）"""
  code: String!

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """角色描述"""
  description: String
  id: ID!

  """是否启用"""
  isActive: Boolean!

  """是否为系统角色（不可删除）"""
  isSystem: Boolean!

  """角色名称"""
  name: String!

  """角色拥有的权限列表"""
  permissions: [Permission!]

  """优先级（数字越大优先级越高）"""
  priority: Int!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

type Tag {
  """标签颜色（十六进制）"""
  color: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """标签描述"""
  description: String
  id: ID!

  """标签名称"""
  name: String!

  """该标签下的文章数量"""
  postCount: Int!

  """标签下的文章列表"""
  posts: [Post]

  """URL 友好的唯一标识符"""
  slug: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

"""任務執行日誌"""
type TaskLog {
  """任務完成時間"""
  completedAt: DateTime

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """執行時長（毫秒）"""
  duration: Int

  """錯誤信息"""
  error: String
  id: ID!

  """執行結果（成功處理的數量等）"""
  result: JSON

  """任務開始時間"""
  startedAt: DateTime

  """任務狀態"""
  status: TaskStatus!

  """任務名稱"""
  taskName: String!

  """任務類型（cron、manual、system）"""
  taskType: String!

  """觸發方式（cron、manual、system）"""
  triggeredBy: String

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """手動觸發的用戶 ID"""
  userId: String
}

"""任務日誌篩選條件"""
input TaskLogFilterInput {
  """返回記錄數量（默認 50）"""
  limit: Int = 50

  """跳過的記錄數量（默認 0）"""
  skip: Int = 0

  """任務狀態"""
  status: TaskStatus

  """任務名稱"""
  taskName: String

  """觸發方式"""
  triggeredBy: String
}

"""任務統計信息"""
type TaskStatistics {
  """平均執行時長（毫秒）"""
  averageDuration: Int

  """已完成任務數"""
  completed: Int!

  """失敗任務數"""
  failed: Int!

  """待執行任務數"""
  pending: Int!

  """執行中任務數"""
  running: Int!

  """成功率（百分比）"""
  successRate: Int!

  """總任務數"""
  total: Int!
}

"""任務狀態"""
enum TaskStatus {
  """已完成"""
  COMPLETED

  """失敗"""
  FAILED

  """待執行"""
  PENDING

  """執行中"""
  RUNNING
}

type Token {
  """JWT access token"""
  accessToken: JWT!

  """JWT refresh token"""
  refreshToken: JWT!
}

type TypeBreakdown {
  """该类型的文件数"""
  count: Int!

  """媒体类型"""
  type: MediaType!
}

input UpdateCategoryInput {
  """分类颜色（十六进制）"""
  color: String

  """分类描述"""
  description: String

  """分类图标"""
  icon: String

  """分类名称"""
  name: String

  """排序权重"""
  order: Int = 0

  """父分类 ID"""
  parentId: String

  """URL 友好的唯一标识符"""
  slug: String
}

input UpdateCommentInput {
  """评论内容"""
  content: String!
}

input UpdateCommentStatusInput {
  """评论状态"""
  status: CommentStatus!
}

input UpdateMediaInput {
  """图片 alt 文本（SEO）"""
  altText: String

  """媒体描述"""
  description: String

  """媒体标题"""
  title: String
}

input UpdatePostInput {
  """分类 ID"""
  categoryId: String

  """文章正文内容"""
  content: String

  """文章摘要（建议 150-200 字符）"""
  excerpt: String

  """SEO 元数据"""
  meta: PostMetaInput

  """是否发布（兼容旧字段）"""
  published: Boolean

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String

  """文章状态"""
  status: PostStatus

  """标签 ID 列表（会替换所有现有标签）"""
  tagIds: [String!]

  """文章标题"""
  title: String
}

input UpdateTagInput {
  """标签颜色（十六进制）"""
  color: String

  """标签描述"""
  description: String

  """标签名称"""
  name: String

  """URL 友好的唯一标识符"""
  slug: String
}

input UpdateUserInput {
  firstname: String
  lastname: String
}

type User {
  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  email: String!
  firstname: String
  id: ID!
  lastname: String

  """用户的所有权限（从角色聚合）"""
  permissions: [Permission!]
  posts: [Post!]

  """用户的角色列表"""
  roles: [SystemRole!]

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}