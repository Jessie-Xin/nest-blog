# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Auth {
  """JWT access token"""
  accessToken: JWT!

  """JWT refresh token"""
  refreshToken: JWT!
  user: User!
}

type Category {
  """子分类列表"""
  children: [Category]

  """分类颜色（十六进制）"""
  color: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """分类描述"""
  description: String

  """分类图标"""
  icon: String
  id: ID!

  """分类名称"""
  name: String!

  """排序权重（数字越小越靠前）"""
  order: Int!

  """父分类对象"""
  parent: Category

  """父分类 ID（顶级分类为 null）"""
  parentId: String

  """该分类下的文章数量"""
  postCount: Int!

  """分类下的文章列表"""
  posts: [Post]

  """URL 友好的唯一标识符"""
  slug: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

input ChangePasswordInput {
  newPassword: String!
  oldPassword: String!
}

input CreateCategoryInput {
  """分类颜色（十六进制）"""
  color: String

  """分类描述"""
  description: String

  """分类图标"""
  icon: String

  """分类名称"""
  name: String!

  """排序权重"""
  order: Int = 0

  """父分类 ID"""
  parentId: String

  """URL 友好的唯一标识符"""
  slug: String!
}

input CreatePostInput {
  """分类 ID"""
  categoryId: String

  """文章正文内容"""
  content: String!

  """文章摘要（建议 150-200 字符）"""
  excerpt: String

  """SEO 元数据"""
  meta: PostMetaInput

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String

  """文章状态（默认为 DRAFT）"""
  status: PostStatus

  """标签 ID 列表"""
  tagIds: [String!]

  """文章标题"""
  title: String!
}

input CreateTagInput {
  """标签颜色（十六进制）"""
  color: String

  """标签描述"""
  description: String

  """标签名称"""
  name: String!

  """URL 友好的唯一标识符"""
  slug: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

"""
A field whose value is a JSON Web Token (JWT): https://jwt.io/introduction.
"""
scalar JWT

input LoginInput {
  email: String!
  password: String!
}

type Media {
  """图片 alt 文本（SEO）"""
  altText: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """媒体描述"""
  description: String

  """原始文件名"""
  filename: String!

  """图片高度"""
  height: Int
  id: ID!

  """额外的元数据（如：EXIF、视频时长等）"""
  metadata: JSON

  """MIME 类型（如：image/jpeg）"""
  mimeType: String!

  """文件存储路径"""
  path: String!

  """文件大小（字节）"""
  size: Int!

  """缩略图 URL"""
  thumbnailUrl: String

  """媒体标题"""
  title: String

  """媒体类型"""
  type: MediaType!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """上传者"""
  uploader: User!

  """访问 URL"""
  url: String!

  """图片宽度"""
  width: Int
}

type MediaStats {
  """总文件数"""
  totalCount: Int!

  """总文件大小（字节）"""
  totalSize: Int!

  """按类型统计"""
  typeBreakdown: [TypeBreakdown!]!
}

"""媒体文件类型"""
enum MediaType {
  """音频文件"""
  AUDIO

  """文档文件"""
  DOCUMENT

  """图片文件"""
  IMAGE

  """其他文件"""
  OTHER

  """视频文件"""
  VIDEO
}

type Mutation {
  """为文章添加标签"""
  addTagsToPost(postId: String!, tagIds: [String!]!): [Tag!]!
  changePassword(data: ChangePasswordInput!): User!

  """创建新分类"""
  createCategory(data: CreateCategoryInput!): Category!
  createPost(data: CreatePostInput!): Post!

  """创建新标签"""
  createTag(data: CreateTagInput!): Tag!

  """删除分类"""
  deleteCategory(
    """分类 ID"""
    id: String!
  ): Category!

  """删除媒体文件"""
  deleteMedia(
    """媒体 ID"""
    mediaId: String!
  ): Media!
  deletePost: Post!

  """删除标签"""
  deleteTag(
    """标签 ID"""
    id: String!
  ): Tag!
  login(data: LoginInput!): Auth!
  refreshToken(token: JWT!): Token!

  """移除文章的标签"""
  removeTagsFromPost(postId: String!, tagIds: [String!]!): [Tag!]!

  """设置文章的标签（替换所有现有标签）"""
  setPostTags(postId: String!, tagIds: [String!]!): [Tag!]!
  signup(data: SignupInput!): Auth!

  """更新分类"""
  updateCategory(
    data: UpdateCategoryInput!

    """分类 ID"""
    id: String!
  ): Category!

  """更新媒体信息"""
  updateMedia(
    data: UpdateMediaInput!

    """媒体 ID"""
    mediaId: String!
  ): Media!
  updatePost(data: UpdatePostInput!): Post!

  """更新标签"""
  updateTag(
    data: UpdateTagInput!

    """标签 ID"""
    id: String!
  ): Tag!
  updateUser(data: UpdateUserInput!): User!
}

"""
Possible directions in which to order a list of items when provided an `orderBy` argument.
"""
enum OrderDirection {
  asc
  desc
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
}

type Post {
  """文章作者"""
  author: User

  """所属分类"""
  category: Category

  """文章正文内容"""
  content: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """文章摘要（建议 150-200 字符）"""
  excerpt: String
  id: ID!

  """SEO 元数据"""
  meta: PostMeta

  """是否发布（兼容旧字段）"""
  published: Boolean!

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String!

  """文章状态"""
  status: PostStatus!

  """关联的标签列表"""
  tags: [Tag!]!

  """文章标题"""
  title: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!

  """浏览次数"""
  viewCount: Int!
}

type PostConnection {
  edges: [PostEdge!]
  pageInfo: PageInfo!
  totalCount: Int!
}

type PostEdge {
  cursor: String!
  node: Post!
}

type PostMeta {
  """规范 URL"""
  canonicalUrl: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  id: ID!

  """SEO 描述（建议 150-160 字符）"""
  metaDescription: String

  """SEO 关键词（逗号分隔）"""
  metaKeywords: String

  """SEO 标题（建议 60-70 字符）"""
  metaTitle: String

  """Open Graph 描述"""
  ogDescription: String

  """Open Graph 图片 URL"""
  ogImage: String

  """Open Graph 标题"""
  ogTitle: String

  """文章 ID"""
  postId: String!

  """Twitter 卡片类型"""
  twitterCard: String

  """Twitter 描述"""
  twitterDescription: String

  """Twitter 图片 URL"""
  twitterImage: String

  """Twitter 标题"""
  twitterTitle: String

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

input PostMetaInput {
  """规范 URL"""
  canonicalUrl: String

  """SEO 描述（建议 150-160 字符）"""
  metaDescription: String

  """SEO 关键词（逗号分隔）"""
  metaKeywords: String

  """SEO 标题（建议 60-70 字符）"""
  metaTitle: String

  """Open Graph 描述"""
  ogDescription: String

  """Open Graph 图片 URL"""
  ogImage: String

  """Open Graph 标题"""
  ogTitle: String

  """Twitter 卡片类型（summary、summary_large_image 等）"""
  twitterCard: String

  """Twitter 描述"""
  twitterDescription: String

  """Twitter 图片 URL"""
  twitterImage: String

  """Twitter 标题"""
  twitterTitle: String
}

input PostOrder {
  direction: OrderDirection!
  field: PostOrderField!
}

"""Properties by which post connections can be ordered."""
enum PostOrderField {
  content
  createdAt
  id
  published
  title
  updatedAt
}

"""文章状态"""
enum PostStatus {
  """已归档"""
  ARCHIVED

  """草稿"""
  DRAFT

  """已发布"""
  PUBLISHED

  """定时发布"""
  SCHEDULED

  """回收站"""
  TRASH
}

type Query {
  allPosts(orderBy: PostOrder, query: String, status: PostStatus): PostConnection!

  """获取所有分类列表"""
  categories: [Category!]!

  """根据 ID 获取单个分类"""
  category(
    """分类 ID"""
    id: String!
  ): Category!

  """获取分类的祖先路径（面包屑导航）"""
  categoryAncestors(
    """分类 ID"""
    id: String!
  ): [Category!]!

  """根据 slug 获取单个分类"""
  categoryBySlug(slug: String!): Category!

  """获取分类的所有后代分类"""
  categoryDescendants(
    """分类 ID"""
    id: String!
  ): [Category!]!
  hello(name: String!): String!
  helloWorld: String!
  me: User!

  """根据 ID 查询媒体文件"""
  media(
    """媒体 ID"""
    mediaId: String!
  ): Media!

  """查询所有媒体文件"""
  mediaFiles(onlyMine: Boolean, type: MediaType): [Media!]!

  """获取用户的媒体统计"""
  myMediaStats: MediaStats!
  post: Post!
  postBySlug(slug: String!): Post
  publishedPosts(orderBy: PostOrder, query: String): PostConnection!

  """根据 ID 获取单个标签"""
  tag(
    """标签 ID"""
    id: String!
  ): Tag!

  """根据 slug 获取单个标签"""
  tagBySlug(slug: String!): Tag!

  """获取所有标签列表"""
  tags: [Tag!]!

  """获取顶级分类列表"""
  topLevelCategories: [Category!]!
  userPosts: [Post!]!
}

"""User role"""
enum Role {
  ADMIN
  USER
}

input SignupInput {
  email: String!
  firstname: String
  lastname: String
  password: String!
}

type Subscription {
  postCreated: Post!
}

type Tag {
  """标签颜色（十六进制）"""
  color: String

  """Identifies the date and time when the object was created."""
  createdAt: DateTime!

  """标签描述"""
  description: String
  id: ID!

  """标签名称"""
  name: String!

  """该标签下的文章数量"""
  postCount: Int!

  """标签下的文章列表"""
  posts: [Post]

  """URL 友好的唯一标识符"""
  slug: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}

type Token {
  """JWT access token"""
  accessToken: JWT!

  """JWT refresh token"""
  refreshToken: JWT!
}

type TypeBreakdown {
  """该类型的文件数"""
  count: Int!

  """媒体类型"""
  type: MediaType!
}

input UpdateCategoryInput {
  """分类颜色（十六进制）"""
  color: String

  """分类描述"""
  description: String

  """分类图标"""
  icon: String

  """分类名称"""
  name: String

  """排序权重"""
  order: Int = 0

  """父分类 ID"""
  parentId: String

  """URL 友好的唯一标识符"""
  slug: String
}

input UpdateMediaInput {
  """图片 alt 文本（SEO）"""
  altText: String

  """媒体描述"""
  description: String

  """媒体标题"""
  title: String
}

input UpdatePostInput {
  """分类 ID"""
  categoryId: String

  """文章正文内容"""
  content: String

  """文章摘要（建议 150-200 字符）"""
  excerpt: String

  """SEO 元数据"""
  meta: PostMetaInput

  """是否发布（兼容旧字段）"""
  published: Boolean

  """发布时间（用于定时发布）"""
  publishedAt: DateTime

  """URL 友好标识符（slug）"""
  slug: String

  """文章状态"""
  status: PostStatus

  """标签 ID 列表（会替换所有现有标签）"""
  tagIds: [String!]

  """文章标题"""
  title: String
}

input UpdateTagInput {
  """标签颜色（十六进制）"""
  color: String

  """标签描述"""
  description: String

  """标签名称"""
  name: String

  """URL 友好的唯一标识符"""
  slug: String
}

input UpdateUserInput {
  firstname: String
  lastname: String
}

type User {
  """Identifies the date and time when the object was created."""
  createdAt: DateTime!
  email: String!
  firstname: String
  id: ID!
  lastname: String
  posts: [Post!]
  role: Role!

  """Identifies the date and time when the object was last updated."""
  updatedAt: DateTime!
}